<ui:composition template="index.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core">

   <ui:define name="content">
      <h1>Liste des Éléments</h1>

      <h:form id="mainForm">

         <p:inputText value="#{myBean.searchQuery}" placeholder="Rechercher..." />
         <p:commandButton value="Chercher" update="dataTable" />

         <p:dataTable id="dataTable" value="#{myBean.getFilteredElements()}" var="element" paginator="true" rows="10">
            <p:column headerText="Nom">
               <h:outputText value="#{element.name}" />
            </p:column>
            <p:column headerText="Date">
               <h:outputText value="#{element.date}" />
            </p:column>
            <p:column headerText="Description">
               <h:outputText value="#{element.description}" />
            </p:column>
            <p:column headerText="Action">
               <h:commandLink action="#{myBean.redirectToDetailPage(element.id)}" outcome="detail">
                  Voir Détails
                  <f:param name="elementId" value="#{element.id}" />
               </h:commandLink>
            </p:column>
         </p:dataTable>
      </h:form>
   </ui:define>
</ui:composition>
